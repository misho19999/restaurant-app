<div class="home flex flex-col ">
  <div class="header">
    <div class="bg-gray-900 px-6 py-24 sm:py-32 lg:px-8">
      <div class="mx-auto max-w-2xl text-center">
        <h2 class="text-4xl font-bold tracking-tight text-white sm:text-6xl">Home Page</h2>
      </div>
    </div>

  </div>


  <div class="categories">
    <div class="sm:hidden p-4">
      <select id="tabs" name="tabs" [(ngModel)]="selectedCategoryId"
        (ngModelChange)="onCategorySelected(selectedCategoryId)"
        class="block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500">
        <option [ngValue]="null">All</option>
        <option [ngValue]="category.id" *ngFor="let category of categories">{{category.name}}</option>
      </select>


    </div>
    <div class="hidden sm:block">
      <nav class="isolate flex divide-x divide-gray-200 rounded-lg shadow" aria-label="Tabs">

        <button (click)="onCategoryTabClick(null)" [ngClass]="{'selected-category': selectedCategoryId==null}"
          class="text-gray-500 rounded-l-lg group relative min-w-0 flex-1 overflow-hidden bg-white py-4 px-4 text-center text-sm font-medium hover:bg-gray-50 focus:z-10"
          aria-current="page">
          <span>All</span>
          <span aria-hidden="true" class="bg-indigo-500 absolute inset-x-0 bottom-0 h-0.5"></span>
        </button>


        <button *ngFor="let category of categories" [ngClass]="{'selected-category': selectedCategoryId==category.id}"
          (click)="onCategoryTabClick(category.id)"
          class="text-gray-900 rounded-l-lg group relative min-w-0 flex-1 overflow-hidden bg-white py-4 px-4 text-center text-sm font-medium hover:bg-gray-50 focus:z-10"
          aria-current="page">
          <span>{{category.name}}</span>
          <span aria-hidden="true" class="bg-indigo-500 absolute inset-x-0 bottom-0 h-0.5"></span>
        </button>

      </nav>
    </div>
  </div>

  <div class="products grid grid-flow-row grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 mt-12 p-4">
    <app-product *ngFor="let product of products" (addToCartClicked)="onAddToCart($event)"
      [product]="product"></app-product>
  </div>

</div>



<div class="filters fixed bottom-0 right-0 z-50">

  <div class="border-b border-gray-200 bg-opacity-75 bg-indigo-100 p-16 rounded-md">
    <h3 class="text-base font-semibold leading-6 text-gray-900">Product Filters</h3>

    <form [formGroup]="filterForm">

      <div class="mt-4 divide-y divide-gray-200 border-b border-t border-gray-200">
        <label for="person-1" class="select-none font-medium text-gray-900">Spiciness</label>
        <select id="tabs" name="tabs" formControlName="speciness"
          class="block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500">
          <option [ngValue]="1">1</option>
          <option [ngValue]="2">2</option>
          <option [ngValue]="3">3</option>
          <option [ngValue]="4">4</option>
        </select>

        <div class="relative flex items-start py-4">
          <div class="min-w-0 flex-1 text-sm leading-6">
            <label for="person-1" class="select-none font-medium text-gray-900">Vegetarian Only</label>
          </div>
          <div class="ml-3 flex h-6 items-center">
            <input id="person-1" name="person-1" type="checkbox" formControlName="vegetarian"
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600">
          </div>
        </div>

        <div class="relative flex items-start py-4">
          <div class="min-w-0 flex-1 text-sm leading-6">
            <label for="person-2" class="select-none font-medium text-gray-900">No Nuts</label>
          </div>
          <div class="ml-3 flex h-6 items-center">
            <input id="person-2" name="person-2" type="checkbox" formControlName="nuts"
              class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600">
          </div>
        </div>
      </div>


      <div class="btn-wrapper flex flex-row mt-6 gap-x-4">

        <button (click)="onResetFilters()" type="button"
          class="relative inline-flex items-center gap-x-1.5 rounded-md text-indigo-500 px-3 py-2 hover:text-white text-sm font-semibold border-indigo-500 border-solid border-2 shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500">
          Reset
        </button>

        <button (click)="onApplyFilters()" type="button"
          class="relative inline-flex items-center gap-x-1.5 rounded-md bg-indigo-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500">
          Apply Filter
        </button>

      </div>


    </form>

  </div>
</div>
